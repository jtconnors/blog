<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>No More JRE Packaging, No Big Deal</title>
    <link rel="stylesheet" href="resource/css/entry.css">
  </head>
  <body>
    <p><b>No More JRE Packaging, No Big Deal</b><br>
      <small><small>By Jim Connors - 3 December 2018</small></small><br>
    </p>
    <p>Historically, when opting to install Oracle's (and previously
      Sun's) implementation of the Java platform, users have been
      presented with two options:<br>
    </p>
    <ol>
      <li>Download and install the Java Runtime Environment or JRE.</li>
      <li>Download and install the Java Development Kit or JDK.<br>
      </li>
    </ol>
    <p>Speaking from years of customer interactions, there is still a
      good deal of confusion surrounding these two terms.&nbsp; The
      predominant choice for desktop users is the JRE.&nbsp; It contains
      all of the necessary components required to execute Java programs
      including the <a
        data-cke-saved-href="https://en.wikipedia.org/wiki/Java_virtual_machine"
        href="https://en.wikipedia.org/wiki/Java_virtual_machine">Java
        Virtual Machine</a>, the <a
        data-cke-saved-href="https://en.wikipedia.org/wiki/Java_Class_Library"
        href="https://en.wikipedia.org/wiki/Java_Class_Library">Java
        Class Libraries</a> and the (now) legacy client deployment
      technologies like the <a
data-cke-saved-href="https://www.oracle.com/technetwork/java/index-jsp-141438.html"
href="https://www.oracle.com/technetwork/java/index-jsp-141438.html">Java



        Plugin</a> and <a
data-cke-saved-href="https://www.java.com/en/download/faq/java_webstart.xml"
        href="https://www.java.com/en/download/faq/java_webstart.xml">Java



        Web Start</a>.&nbsp; The JDK, on the other hand, encompasses
      everything in the JRE plus all of the framework and utilities
      required by Java developers.&nbsp; And it is a lot bigger.&nbsp;
      To give one such example, as of this article's publish date, the
      JRE for the most recent Oracle Java 8 update (Java SE 8 update
      191) consumes 196 MB on a Windows 64 system, whereas the JDK
      version takes a whopping 366 MB disk space.</p>
    <p>As has been announced some time ago,<a
data-cke-saved-href="https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf"
href="https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf">
        the Java Plugin's and Java Web Start's days are numbered</a>.&nbsp;



      In fact, with the release of JDK 11, they are officially
      gone.&nbsp; Kaput.&nbsp; Never to return.&nbsp; And
      correspondingly,<em> <strong>neither Open JDK nor Oracle
          JDK&nbsp; 11 provide a JRE option for download</strong></em>
      either.&nbsp; Why did that happen?</p>
    <p>To start, the JRE is a Sun/Oracle-only creation and not a real
      part of <a data-cke-saved-href="https://openjdk.java.net/"
        href="https://openjdk.java.net/">Open JDK</a>.&nbsp; In its
      quest to make the Oracle JDK and Open JDK as indistinguishable as
      possible, eliminating it makes some sense.&nbsp; With the removal
      of the aforementioned client deployment technologies, one could
      also argue the primary reason for the JRE's existence has gone
      away too.&nbsp; If a version of the JRE were to be produced for
      JDK 11, it would look a lot different than previous JREs.&nbsp;
      Finally justifying the continuance of the JRE as a means to
      package a smaller footprint Java can be questioned with the
      introduction of <a
        data-cke-saved-href="https://blogs.oracle.com/java/modular-development"
        href="https://blogs.oracle.com/java/modular-development">Java
        modularization</a> in JDK 9 and subsequent advances in JDK 11.
      Let's see why.</p>
    <p>Starting with JDK 9 a lot of work has been put into making a more
      efficient binary platform.&nbsp; A simple examination will find
      the innards of new Java binary releases entirely different.&nbsp;
      Gone are the days of distributing the antiquated (and humongous)
      rt.jar file as a means to providing the wealth of Java class
      libraries.&nbsp; As a consequence, footprint is reduced and can be
      made smaller with relative ease.&nbsp; For example, the most
      recent Oracle JDK 11.0.1 release has a disk footprint of 277MB, as
      opposed to the previously mentioned 366 MB for Java 8 update 191
      JDK on the same hardware/OS.&nbsp; And if you want to create a
      perfectly legit runtime that is smaller than the originally
      packaged Java 8 JREs, just do these two simple things to a JDK 11
      distribution.</p>
    <ol>
      <li>Delete the contents of the <tt>jmods/</tt> directory.&nbsp;
        This eliminates about 74 MB.</li>
      <li>Delete the <tt>lib/src.zip</tt> to save an additional 45+ MB.</li>
    </ol>
    <p>Performing these tasks erases some of the traditional developer
      functionality that comes with the JDK, in effect making it look
      closer, but not identical to, an old school JRE.&nbsp; And it does
      not affect the resulting runtime's ability to execute Java
      programs.&nbsp; This modified JDK 11 runtime consumes about 157
      MB, nearly 40 MB smaller than typical Java 8 JREs.</p>
    <p>Two final thoughts.&nbsp; The astute may have noticed that Oracle
      also produces a Server JRE.&nbsp; What about that?&nbsp; The <em>Server



        JRE</em> term is a bit misleading.&nbsp; It is not a JRE but
      rather a JDK that happens to include a specific Java Virtual
      Machine called the Server VM (<a
data-cke-saved-href="https://www.oracle.com/technetwork/java/hotspotfaq-138619.html#compiler_types"
href="https://www.oracle.com/technetwork/java/hotspotfaq-138619.html#compiler_types">as



        opposed to the client VM</a>).&nbsp; Chalk this up to nothing
      more than an unfortunate and questionable naming decision.&nbsp;
      Lastly, the ability to make even smaller, customized run-time Java
      images can be accomplished via the <a
        data-cke-saved-href="https://openjdk.java.net/jeps/282"
        href="https://openjdk.java.net/jeps/282">jlink</a> tool.&nbsp;
      Further edification on that topic is left to the reader.</p>
    <div class="footer"><a href="../index.html">Index</a></div>
  </body>
</html>
